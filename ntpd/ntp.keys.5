'\" t
.\"     Title: ntp.keys
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.76.1 <http://docbook.sf.net/>
.\"      Date: 06/04/2016
.\"    Manual: \ \&
.\"    Source: \ \&
.\"  Language: English
.\"
.TH "NTP\&.KEYS" "5" "06/04/2016" "\ \&" "\ \&"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
ntp.keys \- NTP symmetric key file format configuration file
.SH "DESCRIPTION"
.sp
This document describes the format of an NTP symmetric key file\&. For a description of the use of this type of file, see the "Authentication Support" page of the Web documentation\&.
.sp
ntpd(8) reads its keys from a file specified using the \-k command line option or the \fIkeys\fR statement in the configuration file\&. While key number 0 is fixed by the NTP standard (as 56 zero bits) and may not be changed, one or more keys numbered between 1 and 65534 may be arbitrarily set in the keys file\&.
.sp
The key file uses the same comment conventions as the configuration file\&. Key entries use a fixed format of the form
.sp
.if n \{\
.RS 4
.\}
.nf
keyno type key
.fi
.if n \{\
.RE
.\}
.sp
where keyno is a positive integer (between 1 and 65534), type is the message digest algorithm, and key is the key itself\&.
.sp
The key may be given in a format controlled by the type field\&. The type MD5 is always supported\&. If ntpd was built with the OpenSSL library then any digest library supported by that library may be specified\&. However, if compliance with FIPS 140\-2 is required the type must be either \fISHA\fR or \fISHA1\fR\&.
.sp
What follows are some key types, and corresponding formats:
.PP
\fIMD5\fR
.RS 4
The key is 1 to 16 printable characters terminated by an EOL, whitespace, or a
\fI#\fR
(which is the "start of comment" character)\&.
.RE
.PP
\fISHA\fR; \fISHA1\fR; \fIRMD160\fR
.RS 4
The key is a hex\-encoded ASCII string of 40 characters, which is truncated as necessary\&.
.sp
Note that the keys used by the ntpq(1) programs are checked against passwords requested by the programs and entered by hand, so it is generally appropriate to specify these keys in ASCII format\&.
.RE
.SH "FILES"
.PP
/etc/{ntpkeys}
.RS 4
the default name of the configuration file
.RE
.SH "SEE ALSO"
.sp
ntp\&.conf(5), ntpd(8), ntpq(1), ntpdig(1)\&.
