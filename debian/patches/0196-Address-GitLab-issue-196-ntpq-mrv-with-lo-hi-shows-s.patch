From 9d91bf15c293d1ab566bd8f33313fb30e424f5a3 Mon Sep 17 00:00:00 2001
From: "Eric S. Raymond" <esr@thyrsus.com>
Date: Tue, 6 Dec 2016 19:43:45 -0500
Subject: [PATCH 196/268] Address GitLab issue #196 ntpq mrv with lo=hi shows
 same rv twice

---
 ntpq/ntpq | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/ntpq/ntpq b/ntpq/ntpq
index b2706b4..0c7efcf 100755
--- a/ntpq/ntpq
+++ b/ntpq/ntpq
@@ -439,7 +439,9 @@ usage: help [ command ]
         hi = self.__assoc_valid(tokens[1])
         if lo < 0 or hi < 0 or hi < lo: 
             return ()
-        return (lo, hi)
+        if lo == hi:
+            return(lo,)
+        return range(lo, hi+1)
 
     def printvars(self, variables, dtype, quiet):
         "Dump variables in raw (actually, semi-cooked) mode."
@@ -498,7 +500,7 @@ usage: help [ command ]
                         )
                         for (i, n) in enumerate(tstflagnames):
                             if (1 << i) & value:
-                                item += tstflagnames + " "
+                                item += tstflagnames[i] + " "
                         item = item[:-1]
                 else:
                     item += repr(value)
-- 
2.7.4

