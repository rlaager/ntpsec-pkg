From 0d97fbe2c2c90f3cf9e8f67829b1494154cd8d27 Mon Sep 17 00:00:00 2001
From: Richard Laager <rlaager@wiktel.com>
Date: Sat, 10 Dec 2016 23:22:10 -0600
Subject: [PATCH 4/5] ntpviz: Open HTML and CSV files as text

This is necessary for Python 3.
---
 ntpclients/ntpviz | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/ntpclients/ntpviz b/ntpclients/ntpviz
index 439d857..27e74d6 100755
--- a/ntpclients/ntpviz
+++ b/ntpclients/ntpviz
@@ -1714,12 +1714,12 @@ ntpviz</a>, part of the <a href="https://www.ntpsec.org/">NTPsec project</a>
 
     # and send the file buffer
     index_filename = os.path.join(args.outdir, "index.html")
-    with open(index_filename + ".tmp", "wb") as ifile:
+    with open(index_filename + ".tmp", "w") as ifile:
         ifile.write(index_buffer)
 
     # create csv file, as a tmp file
     csv_filename = os.path.join(args.outdir, "summary.csv")
-    with open( csv_filename + ".tmp", "wb" ) as csv_file:
+    with open( csv_filename + ".tmp", "w" ) as csv_file:
         csv_ob = csv.writer(csv_file)
         csv_ob.writerow(VizStats.csv_head)
         for row in csvs:
-- 
2.7.4

