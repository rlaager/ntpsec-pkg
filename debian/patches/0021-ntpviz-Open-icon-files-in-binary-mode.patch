From 6f9e93fc4c00616eedc3e00b513b29e6512f8462 Mon Sep 17 00:00:00 2001
From: Richard Laager <rlaager@wiktel.com>
Date: Sat, 10 Dec 2016 23:17:21 -0600
Subject: [PATCH 1/5] ntpviz: Open icon files in binary mode

They are binary data.  This is necessary on Python 3.
---
 ntpclients/ntpviz | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/ntpclients/ntpviz b/ntpclients/ntpviz
index 3046584..a564e7b 100755
--- a/ntpclients/ntpviz
+++ b/ntpclients/ntpviz
@@ -1461,13 +1461,13 @@ Python by ESR, concept and GNUPLOT code by Dan Drown.
     # if no ntpsec favicon.ico, write one.
     ico_filename = os.path.join(args.outdir, "favicon.ico")
     if not os.path.lexists( ico_filename ):
-        with open( ico_filename, "w" ) as wp:
+        with open( ico_filename, "wb" ) as wp:
             wp.write(binascii.a2b_base64(ntpsec_ico))
 
     # if no ntpsec logo, write one.
     logo_filename = os.path.join(args.outdir, "ntpsec-logo.png")
     if not os.path.lexists( logo_filename ):
-        with open( logo_filename, "w" ) as wp:
+        with open( logo_filename, "wb" ) as wp:
             wp.write(binascii.a2b_base64(ntpsec_logo))
 
     report_time = datetime.datetime.utcnow() # the time now is...
-- 
2.7.4

