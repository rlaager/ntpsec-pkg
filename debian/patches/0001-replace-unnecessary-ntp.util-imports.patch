From 7c1aee592a38678d3edbe2fc825f6e3ce34ad9d0 Mon Sep 17 00:00:00 2001
From: James Browning <JamesB.fe80@gmail.com>
Date: Tue, 22 Jan 2019 14:14:50 -0800
Subject: [PATCH] replace unnecessary ntp.util imports

---
 ntpclients/ntpkeygen.py  |  3 +--
 ntpclients/ntploggps.py  | 10 +---------
 ntpclients/ntplogtemp.py | 10 +---------
 3 files changed, 3 insertions(+), 20 deletions(-)

diff --git a/ntpclients/ntpkeygen.py b/ntpclients/ntpkeygen.py
index 29215ab97..b976d4db1 100644
--- a/ntpclients/ntpkeygen.py
+++ b/ntpclients/ntpkeygen.py
@@ -27,7 +27,6 @@ import random
 import time
 import getopt
 import stat
-import ntp.util
 
 #
 # Cryptodefines
@@ -99,7 +98,7 @@ if __name__ == '__main__':
             print("usage: ntpkeygen")
             raise SystemExit(0)
         elif switch in ("-V", "--version"):
-            print("ntpkeygen %s" % ntp.util.stdversion())
+            print("ntpkeygen ntpsec-@NTPSEC_VERSION_EXTENDED@")
             raise SystemExit(0)
 
     # The seed is ignored by random.SystemRandom,
diff --git a/ntpclients/ntploggps.py b/ntpclients/ntploggps.py
index 258202c09..929c8bde4 100644
--- a/ntpclients/ntploggps.py
+++ b/ntpclients/ntploggps.py
@@ -44,14 +44,6 @@ except ImportError as e:
     sys.stderr.write("%s\n" % e)
     sys.exit(1)
 
-try:
-    import ntp.util
-except ImportError as e:
-    sys.stderr.write(
-        "ntploggps: can't find Python NTP library -- check PYTHONPATH.\n")
-    sys.stderr.write("%s\n" % e)
-    sys.exit(1)
-
 
 def logging_setup():
     "Create logging object"
@@ -107,7 +99,7 @@ parser.add_argument('-v', '--verbose',
 
 parser.add_argument('-V', '--version',
                     action="version",
-                    version="ntploggps %s" % ntp.util.stdversion())
+                    version="ntploggps ntpsec-@NTPSEC_VERSION_EXTENDED@")
 
 args = parser.parse_args()
 
diff --git a/ntpclients/ntplogtemp.py b/ntpclients/ntplogtemp.py
index 4a85c7b0a..6115b7004 100644
--- a/ntpclients/ntplogtemp.py
+++ b/ntpclients/ntplogtemp.py
@@ -31,14 +31,6 @@ import subprocess
 import sys
 import time
 
-try:
-    import ntp.util
-except ImportError as e:
-    sys.stderr.write(
-        "ntplogtemp: can't find Python NTP library -- check PYTHONPATH.\n")
-    sys.stderr.write("%s\n" % e)
-    sys.exit(1)
-
 
 def run_binary(cmd):
     """\
@@ -241,7 +233,7 @@ parser.add_argument('-w', '--wait',
                     type=int)
 parser.add_argument('-V', '--version',
                     action="version",
-                    version="ntplogtemp %s" % ntp.util.stdversion())
+                    version="ntplogtemp ntpsec-@NTPSEC_VERSION_EXTENDED@")
 args = parser.parse_args()
 
 
-- 
2.17.1

